(this.webpackJsonpwords=this.webpackJsonpwords||[]).push([[0],{124:function(e,t){},143:function(e,t){},151:function(e,t,n){"use strict";n.r(t);var c,r=n(2),i=n.n(r),a=n(86),s=n.n(a),o=(n(93),n(94),n(39)),l=n(17),u=n(19),j=n(5);!function(e){e.Poem="poem",e.Story="story"}(c||(c={}));var d=n(1),b=function(e){var t=e.entries,n=[],r=[];return t.forEach((function(e){switch(e.type){case c.Poem:n.push(e);break;case c.Story:r.push(e)}})),Object(d.jsxs)("div",{className:"wrapper",children:[Object(d.jsxs)("div",{className:"left-side",children:[Object(d.jsx)("h1",{id:"header",children:"S\u0142owa"}),Object(d.jsx)("div",{className:"entry-image",style:{backgroundImage:"url(https://live.staticflickr.com/8459/7995927080_2d64aa9088_c.jpg)"}})]}),Object(d.jsx)("div",{className:"right-side",children:Object(d.jsx)("div",{id:"main",children:Object(d.jsxs)("div",{id:"content",children:[Object(d.jsx)("h2",{children:"Poezja"}),Object(d.jsx)("ul",{children:null===n||void 0===n?void 0:n.map((function(e,t){return Object(d.jsx)("li",{children:Object(d.jsx)(u.b,{to:"/"+e.slug,children:e.title})},t)}))}),Object(d.jsx)("h2",{children:"Proza"}),Object(d.jsx)("ul",{children:null===r||void 0===r?void 0:r.map((function(e,t){return Object(d.jsx)("li",{children:Object(d.jsx)(u.b,{to:"/"+e.slug,children:e.title})},t)}))})]})})})]})},h=n(88),p=n.n(h),f=function(e){var t=e.entries,n=Object(j.f)().slug,c=t.findIndex((function(e){return e.slug===n})),r=t[c],i=t[c<t.length-1?c+1:0],a=t[c>0?c-1:t.length-1];return Object(d.jsx)(d.Fragment,{children:r&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"left-side",children:[Object(d.jsx)("div",{className:"home-link",children:Object(d.jsx)(u.b,{to:"/",children:"s\u0142owa"})}),Object(d.jsx)("h2",{id:"header",children:r.title}),Object(d.jsx)("div",{className:"entry-image",style:{backgroundImage:"url(".concat(r.image,")")}})]}),Object(d.jsxs)("div",{className:"right-side",children:[Object(d.jsx)("div",{id:"main",children:Object(d.jsx)("div",{id:"content",children:Object(d.jsx)("div",{className:"entry-text",dangerouslySetInnerHTML:{__html:p()(r.content)}})})}),Object(d.jsxs)("div",{className:"buttons",children:[Object(d.jsx)(u.b,{to:"/"+(null===a||void 0===a?void 0:a.slug),title:a.title,className:"button",children:" \u2039 "}),Object(d.jsx)("span",{children:c+1}),Object(d.jsx)(u.b,{to:"/"+(null===i||void 0===i?void 0:i.slug),title:i.title,className:"button",children:" \u203a "})]})]})]})})},x=n(28),O=n(8),v=n.n(O),m=n(18),g=n(58);n(152),n(149);g.a.initializeApp({apiKey:"AIzaSyAIuRx2w6_IPo5XHW38dCDYEyM2Z1QoGmo",authDomain:"words-portfolio.firebaseapp.com",databaseURL:"https://words-portfolio.firebaseio.com",projectId:"words-portfolio",storageBucket:"words-portfolio.appspot.com",messagingSenderId:"511017543617",appId:"1:511017543617:web:7d85809afbfe9352b2b140"});var y,w,k=g.a;function N(){return C.apply(this,arguments)}function C(){return(C=Object(m.a)(v.a.mark((function e(){var t,n=arguments;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!(n.length>0&&void 0!==n[0])||n[0],w){e.next=4;break}return e.next=4,z();case 4:if(t){e.next=7;break}return e.next=7,L();case 7:return e.abrupt("return",w);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e){return I.apply(this,arguments)}function I(){return(I=Object(m.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y){e.next=3;break}return e.next=3,z();case 3:if(!t.id){e.next=5;break}return e.abrupt("return",y.collection("poems").doc(t.id).update(t));case 5:return n=Object(x.a)({created:k.firestore.FieldValue.serverTimestamp()},t),e.abrupt("return",y.collection("poems").doc().set(n));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e){return P.apply(this,arguments)}function P(){return(P=Object(m.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(y){e.next=5;break}return e.next=5,z();case 5:return e.abrupt("return",y.collection("poems").doc(t).delete());case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(){return E.apply(this,arguments)}function E(){return(E=Object(m.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y=k.firestore(),e.next=3,L();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(){return T.apply(this,arguments)}function T(){return(T=Object(m.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.collection("poems").orderBy("created","desc").get();case 2:t=e.sent,w=null===t||void 0===t?void 0:t.docs.map((function(e){return Object(x.a)({id:e.id},e.data())})).sort((function(e,t){return e.type.localeCompare(t.type)}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _=n(38),D=function(e){var t,n=e.entry,c=e.changed,i=Object(r.useState)(n),a=Object(l.a)(i,2),s=a[0],o=a[1],u=Object(r.useState)(!0),j=Object(l.a)(u,2),b=j[0],h=j[1],p=function(e,t){o(Object(x.a)(Object(x.a)({},s),{},Object(_.a)({},t,e)))},f=function(){var e=Object(m.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(s);case 2:s.id||(h(!0),o({})),c();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(m.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.id){e.next=2;break}return e.abrupt("return");case 2:if(!window.confirm("Czy na pewno?")){e.next=6;break}return e.next=5,F(s.id);case 5:c();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("h3",{className:"edit-title ".concat(s.id?"":"add-title"),onClick:function(){return h(!b)},children:[Object(d.jsx)("span",{className:"arrow-icon ".concat(b?"right":"down")}),s.title||"Dodaj nowy",s.id&&Object(d.jsx)("button",{className:"remove-button",onClick:function(e){e.stopPropagation(),O()},children:"\u2715"})]}),!b&&Object(d.jsxs)("div",{className:"entry-form",children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{children:"Tytu\u0142: "}),Object(d.jsx)("input",{type:"text",value:s.title,onChange:function(e){return p(e.target.value,"title")}})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{children:"Slug: "}),Object(d.jsx)("input",{type:"text",value:s.slug,onChange:function(e){return p(e.target.value,"slug")}})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{children:"Tre\u015b\u0107: "}),Object(d.jsx)("textarea",{value:null===(t=s.content)||void 0===t?void 0:t.split("<br>").join("\n"),onChange:function(e){var t;return p(null===(t=e.target.value)||void 0===t?void 0:t.split("\n").join("<br>"),"content")}})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{children:"Grafika: "}),Object(d.jsx)("input",{type:"text",value:s.image,onChange:function(e){return p(e.target.value,"image")}})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{children:"Typ: "}),Object(d.jsxs)("select",{onChange:function(e){return p(e.target.value,"type")},children:[Object(d.jsx)("option",{disabled:!0,selected:!0,children:" "}),Object(d.jsx)("option",{value:"poem",selected:"poem"===s.type,children:"Wiersz"}),Object(d.jsx)("option",{value:"story",selected:"story"===s.type,children:"Proza"})]})]}),Object(d.jsx)("div",{className:"save-button",children:Object(d.jsx)("button",{onClick:f,children:n.id?"Zapisz":"Dodaj"})})]})]})},A=k.auth(),B=function(e){var t=e.entries,n=e.changed,c=Object(r.useState)(),i=Object(l.a)(c,2),a=i[0],s=i[1],u=Object(r.useState)(),j=Object(l.a)(u,2),b=j[0],h=j[1],p=Object(r.useState)(),f=Object(l.a)(p,2),x=f[0],O=f[1],v=Object(r.useState)([]),m=Object(l.a)(v,2),g=m[0],y=m[1];A.onAuthStateChanged((function(e){O(e)})),Object(r.useEffect)((function(){t&&y([{}].concat(Object(o.a)(t)))}),[t]);return Object(d.jsxs)("div",{className:"editor",children:[!x&&Object(d.jsxs)("div",{className:"login-form",children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{children:"Login:"})," ",Object(d.jsx)("input",{type:"text",onChange:function(e){return s(e.target.value)}})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{children:"Has\u0142o:"})," ",Object(d.jsx)("input",{type:"password",onChange:function(e){return h(e.target.value)}})]}),Object(d.jsx)("button",{onClick:function(){if(a&&b)try{A.signInWithEmailAndPassword(a,b)}catch(e){}},children:"Login"})]}),x&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h2",{children:"Edytor"}),Object(d.jsx)("button",{className:"logout-button",onClick:function(){A.signOut()},children:"Wyloguj"}),Object(d.jsx)("ul",{children:g.map((function(e,t){return Object(d.jsx)("li",{children:Object(d.jsx)(D,{entry:e,changed:n})},e.id||t)}))})]})]})};function H(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1];Object(r.useEffect)((function(){i()}),[]);var i=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];N(e).then((function(e){return c(Object(o.a)(e))}))};return Object(d.jsx)(u.a,{children:Object(d.jsxs)(j.c,{children:[Object(d.jsx)(j.a,{exact:!0,path:"/edit",children:Object(d.jsx)(B,{entries:n,changed:function(){return i(!1)}})}),Object(d.jsx)(j.a,{exact:!0,path:"/",children:Object(d.jsx)(b,{entries:n})}),Object(d.jsx)(j.a,{exact:!0,path:"/:slug",children:Object(d.jsx)(f,{entries:n})})]})})}var W=function(){return Object(d.jsxs)("div",{className:"wrapper",children:[Object(d.jsx)(H,{}),Object(d.jsxs)("div",{id:"footer",children:["\xa9",(new Date).getFullYear()," ",Object(d.jsx)("a",{href:"https://www.facebook.com/anna.chotoborska",target:"_blank",rel:"noreferrer",children:"Reien"}),". Grafiki: ",Object(d.jsx)("a",{href:"https://www.flickr.com/photos/biodivlibrary/",target:"_blank",rel:"noreferrer",children:"BHL"})]})]})},G=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,153)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),i(e),a(e)}))};s.a.render(Object(d.jsx)(i.a.StrictMode,{children:Object(d.jsx)(W,{})}),document.getElementById("root")),G()},49:function(e,t){},50:function(e,t){},74:function(e,t){},80:function(e,t){},93:function(e,t,n){},94:function(e,t,n){}},[[151,1,2]]]);
//# sourceMappingURL=main.0a460447.chunk.js.map