{"version":3,"sources":["models/entry.data.ts","components/entries-list.component.tsx","components/entry.component.tsx","firebase.ts","services/entries.service.ts","components/edit-entry.component.tsx","components/edit-list.component.tsx","routing.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["EntryType","EntriesList","entries","poems","stories","useEffect","window","scrollTo","top","behavior","forEach","entry","type","Poem","push","Story","className","id","style","backgroundImage","map","el","i","to","slug","title","Entry","useParams","entryIndex","findIndex","next","length","prev","prevBtn","useRef","nextBtn","addEventListener","onKeyUp","removeEventListener","ev","key","current","click","image","includes","dangerouslySetInnerHTML","__html","sanitizeHtml","content","ref","firebase","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","db","get","a","cache","_init","getEntries","save","collection","doc","update","newEntry","created","firestore","FieldValue","serverTimestamp","set","remove","delete","orderBy","querySnapshot","docs","data","sort","b","localeCompare","EditEntry","changed","useState","formData","setFormData","collapsed","setCollapsed","onChange","value","field","onSave","onRemove","confirm","onClick","e","stopPropagation","target","split","join","disabled","selected","auth","EditList","login","setLogin","password","setPassword","user","setUser","editEntries","setEditEntries","onAuthStateChanged","currentUser","signInWithEmailAndPassword","_","signOut","Routing","setEntries","getData","then","res","exact","path","children","App","Date","getFullYear","href","rel","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8c2a769d.chunk.js","sourcesContent":["export enum EntryType {\n  Poem = 'poem',\n  Story = 'story'\n}\n\nexport interface EntryData {\n  id: string;\n  slug: string;\n  title: string;\n  content: string;\n  created: string;\n  image: string;\n  type: EntryType;\n}","import { FC, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { EntryData, EntryType } from '../models/entry.data';\n\nconst HOMEPAGE_IMAGE_URL = 'https://firebasestorage.googleapis.com/v0/b/words-portfolio.appspot.com/o/homepage.svg?alt=media&token=bfeae678-629c-40a0-ba3b-d6a3d67d9edc';\n\ninterface EntriesListProps {\n  entries: EntryData[]\n}\nconst EntriesList: FC<EntriesListProps> = ({entries}) => {\n  const poems: EntryData[] = [];\n  const stories: EntryData[] = [];\n\n  useEffect(() => {\n    window.scrollTo({top: 0, behavior: 'smooth'});\n  }, []);\n\n  entries.forEach(entry => {\n    switch (entry.type) {\n      case EntryType.Poem:\n        poems.push(entry);\n        break;\n      case EntryType.Story:\n        stories.push(entry);\n        break;\n      default:\n        break;\n    }\n  })\n\n  return (\n    <div className=\"wrapper\">\n      <div className=\"left-side\">\n        <h1 id=\"header\">Słowa</h1>\n        <div className=\"entry-image svg-image main-image\" style={{ backgroundImage: `url(${HOMEPAGE_IMAGE_URL})` }}></div>\n        <div className=\"subtitle\">\n          Called by my inner yearnings, <span>I cast the net of words</span><br />to catch glimpses <span>of (im)possible worlds</span>\n        </div>\n      </div>\n      <div className=\"right-side\">\n        <div id=\"main\">\n          <div id=\"content\">\n            <h2>Poezja</h2>\n            <ul>\n              {poems?.map((el, i) => (<li key={i}><Link to={'/'+el.slug}>{el.title}</Link></li>))}\n            </ul>\n            <h2>Proza</h2>\n            <ul>\n              {stories?.map((el, i) => (<li key={i}><Link to={'/'+el.slug}>{el.title}</Link></li>))}\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default EntriesList;","import { FC, useEffect, useRef } from 'react';\nimport { Link, useParams } from 'react-router-dom';\nimport { EntryData } from '../models/entry.data';\nimport sanitizeHtml from 'sanitize-html';\n\ninterface EntryProps {\n  entries: EntryData[]\n}\n\nconst Entry: FC<EntryProps> = ({ entries }) => {\n  const { slug } = useParams() as { slug: string };\n  const entryIndex = entries.findIndex(el => el.slug === slug);\n  const entry = entries[entryIndex];\n  const next = entries[entryIndex < entries.length - 1 ? entryIndex + 1 : 0];\n  const prev = entries[entryIndex > 0 ? entryIndex - 1 : entries.length - 1];\n  const prevBtn = useRef<HTMLAnchorElement>(null);\n  const nextBtn = useRef<HTMLAnchorElement>(null);\n\n  useEffect(() => {\n    window.addEventListener('keyup', onKeyUp);\n    return () => window.removeEventListener('keyup', onKeyUp);\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    window.scrollTo({top: 0, behavior: 'smooth'});\n  }, [entry]);\n\n  const onKeyUp = (ev: KeyboardEvent) => {\n    ev.key === 'ArrowLeft' && prevBtn?.current?.click();\n    ev.key === 'ArrowRight' && nextBtn?.current?.click();\n  }\n\n  return (\n    <>{\n      entry &&\n      <>\n        <div className=\"left-side entry-page-left-side\">\n          <div className=\"home-link\"><Link to={'/'}>słowa</Link></div>\n          <h2 id=\"header\">{entry.title}</h2>\n          <div className={`entry-image ${entry.image?.includes('svg') ? 'svg-image' : ''}`} style={{ backgroundImage: `url(${entry.image})` }}></div>\n        </div>\n        <div className=\"right-side\">\n          <div id=\"main\">\n            <div id=\"content\">\n              <div className=\"entry-text\" dangerouslySetInnerHTML={{ __html: sanitizeHtml(entry.content) }}></div>\n            </div>\n          </div>\n          <div className=\"buttons\">\n            <Link ref={prevBtn} to={`/${prev?.slug}`} title={prev.title} className=\"button\"> &#8249; </Link>\n            <span>{entryIndex + 1}</span>\n            <Link ref={nextBtn} to={`/${next?.slug}`} title={next.title} className=\"button\"> &#8250; </Link>\n          </div>\n        </div>\n      </>\n    }</>\n  );\n}\n\nexport default Entry;","import firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport 'firebase/auth';\n\nconst config = {\n  apiKey: process.env.REACT_APP_APIKEY,\n  authDomain: process.env.REACT_APP_AUTHDOMAIN,\n  databaseURL: process.env.REACT_APP_DB,\n  projectId: process.env.REACT_APP_PID,\n  storageBucket: process.env.REACT_APP_SB,\n  messagingSenderId: process.env.REACT_APP_SID,\n  appId: process.env.REACT_APP_APPID\n};\nfirebase.initializeApp(config);\n\nexport default firebase;","import firebase from '../firebase';\nimport { EntryData } from '../models/entry.data';\n\nlet db: firebase.firestore.Firestore;\nlet entries: EntryData[];\n\nexport async function get(cache = true): Promise<EntryData[]> {\n  if (!entries) {\n    await _init();\n  }\n  if (!cache) {\n    await getEntries();\n  }\n  return entries;\n}\n\nexport async function fetch(id: string): Promise<EntryData | null> {\n  if (!entries) {\n    await _init();\n  }\n  return entries?.find(el => el.id === id) || null;\n}\n\nexport async function save(entry: Partial<EntryData>): Promise<void> {\n  if (!db) {\n    await _init();\n  }\n  if (entry.id) {\n    return db.collection('poems').doc(entry.id).update(entry);\n  }\n  const newEntry = {\n    created: firebase.firestore.FieldValue.serverTimestamp(),\n    ...entry\n  };\n  return db.collection('poems').doc().set(newEntry);\n}\n\nexport async function remove(id: string): Promise<void> {\n  if (!id) { return; }\n  if (!db) {\n    await _init();\n  }\n  return db.collection('poems').doc(id).delete();\n}\n\nasync function _init() {\n  db = firebase.firestore();\n  await getEntries();\n}\n\nasync function getEntries() {\n  const querySnapshot = await db.collection('poems').orderBy('created', 'desc').get();\n  entries = querySnapshot?.docs.map((doc) => ({id: doc.id, ...doc.data()} as EntryData)).sort((a, b) => a.type.localeCompare(b.type));\n}\n","import { ChangeEvent, FC, MouseEventHandler, useState } from 'react';\nimport { EntryData } from '../models/entry.data';\nimport { save, remove } from '../services/entries.service';\n\ninterface EditEntryProps {\n  entry: Partial<EntryData>,\n  changed: () => void,\n}\nconst EditEntry: FC<EditEntryProps> = ({ entry, changed }) => {\n  const [formData, setFormData] = useState<Partial<EntryData>>(entry);\n  const [collapsed, setCollapsed] = useState(true);\n\n  const onChange = (value: string, field: keyof EntryData) => {\n    setFormData({ ...formData, [field]: value });\n  }\n\n  const onSave = async () => {\n    await save(formData);\n    if (!formData.id) {\n      setCollapsed(true);\n      setFormData({});\n    }\n    changed();\n  }\n\n  const onRemove = async () => {\n    if (!formData.id) { return; }\n    if (window.confirm('Czy na pewno?')) {\n      await remove(formData.id);\n      changed();\n    }\n  }\n\n  return (\n    <>\n      <h3 className={`edit-title ${!formData.id ? 'add-title' : ''}`} onClick={() => setCollapsed(!collapsed)}>\n        <span className={`arrow-icon ${collapsed ? 'right' : 'down'}`}/>\n        {formData.title || 'Dodaj nowy'}\n        {formData.id && <button className=\"remove-button\" onClick={e => {e.stopPropagation(); onRemove();}}>&#10005;</button>}\n      </h3>\n      {!collapsed && <div className=\"entry-form\">\n        <div>\n          <label>Tytuł: </label>\n          <input type=\"text\" value={formData.title} onChange={e => onChange(e.target.value, 'title')} />\n        </div>\n        <div>\n          <label>Slug: </label>\n          <input type=\"text\" value={formData.slug} onChange={e => onChange(e.target.value, 'slug')} />\n        </div>\n        <div>\n          <label>Treść: </label>\n          <textarea value={formData.content?.split('<br>').join('\\n')} onChange={e =>\n            onChange(e.target.value?.split('\\n').join('<br>'), 'content')} />\n        </div>\n        <div>\n          <label>Grafika: </label>\n          <input type=\"text\" value={formData.image} onChange={e => onChange(e.target.value, 'image')} />\n        </div>\n        <div>\n          <label>Typ: </label>\n          <select onChange={e => onChange(e.target.value, 'type')}>\n            <option disabled selected> </option>\n            <option value=\"poem\" selected={formData.type === 'poem'}>Wiersz</option>\n            <option value=\"story\" selected={formData.type === 'story'}>Proza</option>\n          </select>\n        </div>\n        <div className=\"save-button\">\n          <button onClick={onSave}>{entry.id ? 'Zapisz' : 'Dodaj'}</button>\n        </div>\n      </div>}\n    </>\n  );\n}\n\nexport default EditEntry;","import { FC, useEffect, useState } from 'react';\nimport { EntryData } from '../models/entry.data';\nimport EditEntry from './edit-entry.component';\nimport firebase from '../firebase';\n\nconst auth = firebase.auth();\n\ninterface EditListProps {\n  entries: EntryData[],\n  changed: () => void,\n}\nconst EditList: FC<EditListProps> = ({ entries, changed }) => {\n  const [login, setLogin] = useState<string>();\n  const [password, setPassword] = useState<string>();\n  const [user, setUser] = useState<firebase.User | null>();\n  const [editEntries, setEditEntries] = useState<(Partial<EntryData>)[]>([]);\n\n  auth.onAuthStateChanged((currentUser) => {\n    setUser(currentUser);\n  });\n\n  useEffect(() => {\n    entries && setEditEntries([{}, ...entries]);\n  }, [entries])\n\n  const signIn = () => {\n    if (!(login && password)) { return; }\n    try {\n      auth.signInWithEmailAndPassword(login, password);\n    } catch (_) { }\n  };\n\n  const signOut = () => {\n    auth.signOut();\n  };\n\n  return (\n    <div className=\"editor\">\n      {!user && <div className=\"login-form\">\n        <div>\n          <label>Login:</label> <input type=\"text\" onChange={e => setLogin(e.target.value)} />\n        </div>\n        <div>\n          <label>Hasło:</label> <input type=\"password\" onChange={e => setPassword(e.target.value)} />\n        </div>\n        <button onClick={signIn}>Login</button>\n      </div>}\n      {user && <>\n        <h2>Edytor</h2>\n        <button className=\"logout-button\" onClick={signOut}>Wyloguj</button>\n        <ul>\n          {editEntries.map((el, i) => (\n            <li key={el.id || i}>\n              <EditEntry entry={el} changed={changed} />\n            </li>))}\n        </ul>\n      </>\n      }\n    </div>\n  );\n}\n\nexport default EditList;","import { HashRouter as Router, Route, Switch } from 'react-router-dom';\nimport Entries from './components/entries-list.component';\nimport Entry from './components/entry.component';\nimport { useEffect, useState } from 'react';\nimport { EntryData } from './models/entry.data';\nimport { get as getEntries } from './services/entries.service';\nimport EditList from './components/edit-list.component';\n\nexport default function Routing() {\n  const [entries, setEntries] = useState<EntryData[]>([]);\n\n  useEffect(() => {\n    getData();\n  }, []);\n\n  const getData = (cache = true) => {\n    getEntries(cache).then(res => setEntries([...res]));\n  }\n\n  return (\n    <Router>\n      <Switch>\n        <Route exact path=\"/edit\"><EditList entries={entries} changed={() => getData(false)} /></Route>\n        <Route exact path=\"/\"><Entries entries={entries} /></Route>\n        <Route exact path=\"/:slug\" children={<Entry entries={entries} />} />\n      </Switch>\n    </Router>\n  );\n}","import React from 'react';\nimport './App.scss';\nimport Routing from './routing';\n\nfunction App() {\n  return (\n    <div className=\"wrapper\">\n      <Routing />\n      <div id=\"footer\">\n        &copy;{new Date().getFullYear()} <a href=\"https://www.facebook.com/anna.chotoborska\" target=\"_blank\" rel=\"noreferrer\">Reien</a>.\n        Grafiki: Reien, <a href=\"https://www.flickr.com/photos/biodivlibrary/\" target=\"_blank\" rel=\"noreferrer\">BHL</a>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}