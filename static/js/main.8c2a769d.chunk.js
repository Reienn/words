(this.webpackJsonpwords=this.webpackJsonpwords||[]).push([[0],{124:function(e,t){},143:function(e,t){},151:function(e,t,n){"use strict";n.r(t);var c,r=n(2),i=n.n(r),a=n(86),s=n.n(a),o=(n(93),n(94),n(39)),l=n(17),u=n(19),d=n(5);!function(e){e.Poem="poem",e.Story="story"}(c||(c={}));var j=n(1),b=function(e){var t=e.entries,n=[],i=[];return Object(r.useEffect)((function(){window.scrollTo({top:0,behavior:"smooth"})}),[]),t.forEach((function(e){switch(e.type){case c.Poem:n.push(e);break;case c.Story:i.push(e)}})),Object(j.jsxs)("div",{className:"wrapper",children:[Object(j.jsxs)("div",{className:"left-side",children:[Object(j.jsx)("h1",{id:"header",children:"S\u0142owa"}),Object(j.jsx)("div",{className:"entry-image svg-image main-image",style:{backgroundImage:"url(".concat("https://firebasestorage.googleapis.com/v0/b/words-portfolio.appspot.com/o/homepage.svg?alt=media&token=bfeae678-629c-40a0-ba3b-d6a3d67d9edc",")")}}),Object(j.jsxs)("div",{className:"subtitle",children:["Called by my inner yearnings, ",Object(j.jsx)("span",{children:"I cast the net of words"}),Object(j.jsx)("br",{}),"to catch glimpses ",Object(j.jsx)("span",{children:"of (im)possible worlds"})]})]}),Object(j.jsx)("div",{className:"right-side",children:Object(j.jsx)("div",{id:"main",children:Object(j.jsxs)("div",{id:"content",children:[Object(j.jsx)("h2",{children:"Poezja"}),Object(j.jsx)("ul",{children:null===n||void 0===n?void 0:n.map((function(e,t){return Object(j.jsx)("li",{children:Object(j.jsx)(u.b,{to:"/"+e.slug,children:e.title})},t)}))}),Object(j.jsx)("h2",{children:"Proza"}),Object(j.jsx)("ul",{children:null===i||void 0===i?void 0:i.map((function(e,t){return Object(j.jsx)("li",{children:Object(j.jsx)(u.b,{to:"/"+e.slug,children:e.title})},t)}))})]})})})]})},h=n(88),p=n.n(h),f=function(e){var t,n=e.entries,c=Object(d.f)().slug,i=n.findIndex((function(e){return e.slug===c})),a=n[i],s=n[i<n.length-1?i+1:0],o=n[i>0?i-1:n.length-1],l=Object(r.useRef)(null),b=Object(r.useRef)(null);Object(r.useEffect)((function(){return window.addEventListener("keyup",h),function(){return window.removeEventListener("keyup",h)}}),[]),Object(r.useEffect)((function(){window.scrollTo({top:0,behavior:"smooth"})}),[a]);var h=function(e){var t,n;"ArrowLeft"===e.key&&(null===l||void 0===l||null===(t=l.current)||void 0===t||t.click()),"ArrowRight"===e.key&&(null===b||void 0===b||null===(n=b.current)||void 0===n||n.click())};return Object(j.jsx)(j.Fragment,{children:a&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"left-side entry-page-left-side",children:[Object(j.jsx)("div",{className:"home-link",children:Object(j.jsx)(u.b,{to:"/",children:"s\u0142owa"})}),Object(j.jsx)("h2",{id:"header",children:a.title}),Object(j.jsx)("div",{className:"entry-image ".concat((null===(t=a.image)||void 0===t?void 0:t.includes("svg"))?"svg-image":""),style:{backgroundImage:"url(".concat(a.image,")")}})]}),Object(j.jsxs)("div",{className:"right-side",children:[Object(j.jsx)("div",{id:"main",children:Object(j.jsx)("div",{id:"content",children:Object(j.jsx)("div",{className:"entry-text",dangerouslySetInnerHTML:{__html:p()(a.content)}})})}),Object(j.jsxs)("div",{className:"buttons",children:[Object(j.jsx)(u.b,{ref:l,to:"/".concat(null===o||void 0===o?void 0:o.slug),title:o.title,className:"button",children:" \u2039 "}),Object(j.jsx)("span",{children:i+1}),Object(j.jsx)(u.b,{ref:b,to:"/".concat(null===s||void 0===s?void 0:s.slug),title:s.title,className:"button",children:" \u203a "})]})]})]})})},O=n(28),x=n(8),v=n.n(x),m=n(18),g=n(58);n(152),n(149);g.a.initializeApp({apiKey:"AIzaSyAIuRx2w6_IPo5XHW38dCDYEyM2Z1QoGmo",authDomain:"words-portfolio.firebaseapp.com",databaseURL:"https://words-portfolio.firebaseio.com",projectId:"words-portfolio",storageBucket:"words-portfolio.appspot.com",messagingSenderId:"511017543617",appId:"1:511017543617:web:7d85809afbfe9352b2b140"});var y,w,k=g.a;function N(){return C.apply(this,arguments)}function C(){return(C=Object(m.a)(v.a.mark((function e(){var t,n=arguments;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!(n.length>0&&void 0!==n[0])||n[0],w){e.next=4;break}return e.next=4,L();case 4:if(t){e.next=7;break}return e.next=7,T();case 7:return e.abrupt("return",w);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e){return I.apply(this,arguments)}function I(){return(I=Object(m.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y){e.next=3;break}return e.next=3,L();case 3:if(!t.id){e.next=5;break}return e.abrupt("return",y.collection("poems").doc(t.id).update(t));case 5:return n=Object(O.a)({created:k.firestore.FieldValue.serverTimestamp()},t),e.abrupt("return",y.collection("poems").doc().set(n));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){return F.apply(this,arguments)}function F(){return(F=Object(m.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(y){e.next=5;break}return e.next=5,L();case 5:return e.abrupt("return",y.collection("poems").doc(t).delete());case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(){return P.apply(this,arguments)}function P(){return(P=Object(m.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y=k.firestore(),e.next=3,T();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return z.apply(this,arguments)}function z(){return(z=Object(m.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.collection("poems").orderBy("created","desc").get();case 2:t=e.sent,w=null===t||void 0===t?void 0:t.docs.map((function(e){return Object(O.a)({id:e.id},e.data())})).sort((function(e,t){return e.type.localeCompare(t.type)}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var A=n(38),R=function(e){var t,n=e.entry,c=e.changed,i=Object(r.useState)(n),a=Object(l.a)(i,2),s=a[0],o=a[1],u=Object(r.useState)(!0),d=Object(l.a)(u,2),b=d[0],h=d[1],p=function(e,t){o(Object(O.a)(Object(O.a)({},s),{},Object(A.a)({},t,e)))},f=function(){var e=Object(m.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(s);case 2:s.id||(h(!0),o({})),c();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(m.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.id){e.next=2;break}return e.abrupt("return");case 2:if(!window.confirm("Czy na pewno?")){e.next=6;break}return e.next=5,E(s.id);case 5:c();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("h3",{className:"edit-title ".concat(s.id?"":"add-title"),onClick:function(){return h(!b)},children:[Object(j.jsx)("span",{className:"arrow-icon ".concat(b?"right":"down")}),s.title||"Dodaj nowy",s.id&&Object(j.jsx)("button",{className:"remove-button",onClick:function(e){e.stopPropagation(),x()},children:"\u2715"})]}),!b&&Object(j.jsxs)("div",{className:"entry-form",children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{children:"Tytu\u0142: "}),Object(j.jsx)("input",{type:"text",value:s.title,onChange:function(e){return p(e.target.value,"title")}})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{children:"Slug: "}),Object(j.jsx)("input",{type:"text",value:s.slug,onChange:function(e){return p(e.target.value,"slug")}})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{children:"Tre\u015b\u0107: "}),Object(j.jsx)("textarea",{value:null===(t=s.content)||void 0===t?void 0:t.split("<br>").join("\n"),onChange:function(e){var t;return p(null===(t=e.target.value)||void 0===t?void 0:t.split("\n").join("<br>"),"content")}})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{children:"Grafika: "}),Object(j.jsx)("input",{type:"text",value:s.image,onChange:function(e){return p(e.target.value,"image")}})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{children:"Typ: "}),Object(j.jsxs)("select",{onChange:function(e){return p(e.target.value,"type")},children:[Object(j.jsx)("option",{disabled:!0,selected:!0,children:" "}),Object(j.jsx)("option",{value:"poem",selected:"poem"===s.type,children:"Wiersz"}),Object(j.jsx)("option",{value:"story",selected:"story"===s.type,children:"Proza"})]})]}),Object(j.jsx)("div",{className:"save-button",children:Object(j.jsx)("button",{onClick:f,children:n.id?"Zapisz":"Dodaj"})})]})]})},D=k.auth(),B=function(e){var t=e.entries,n=e.changed,c=Object(r.useState)(),i=Object(l.a)(c,2),a=i[0],s=i[1],u=Object(r.useState)(),d=Object(l.a)(u,2),b=d[0],h=d[1],p=Object(r.useState)(),f=Object(l.a)(p,2),O=f[0],x=f[1],v=Object(r.useState)([]),m=Object(l.a)(v,2),g=m[0],y=m[1];D.onAuthStateChanged((function(e){x(e)})),Object(r.useEffect)((function(){t&&y([{}].concat(Object(o.a)(t)))}),[t]);return Object(j.jsxs)("div",{className:"editor",children:[!O&&Object(j.jsxs)("div",{className:"login-form",children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{children:"Login:"})," ",Object(j.jsx)("input",{type:"text",onChange:function(e){return s(e.target.value)}})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{children:"Has\u0142o:"})," ",Object(j.jsx)("input",{type:"password",onChange:function(e){return h(e.target.value)}})]}),Object(j.jsx)("button",{onClick:function(){if(a&&b)try{D.signInWithEmailAndPassword(a,b)}catch(e){}},children:"Login"})]}),O&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h2",{children:"Edytor"}),Object(j.jsx)("button",{className:"logout-button",onClick:function(){D.signOut()},children:"Wyloguj"}),Object(j.jsx)("ul",{children:g.map((function(e,t){return Object(j.jsx)("li",{children:Object(j.jsx)(R,{entry:e,changed:n})},e.id||t)}))})]})]})};function _(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1];Object(r.useEffect)((function(){i()}),[]);var i=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];N(e).then((function(e){return c(Object(o.a)(e))}))};return Object(j.jsx)(u.a,{children:Object(j.jsxs)(d.c,{children:[Object(j.jsx)(d.a,{exact:!0,path:"/edit",children:Object(j.jsx)(B,{entries:n,changed:function(){return i(!1)}})}),Object(j.jsx)(d.a,{exact:!0,path:"/",children:Object(j.jsx)(b,{entries:n})}),Object(j.jsx)(d.a,{exact:!0,path:"/:slug",children:Object(j.jsx)(f,{entries:n})})]})})}var H=function(){return Object(j.jsxs)("div",{className:"wrapper",children:[Object(j.jsx)(_,{}),Object(j.jsxs)("div",{id:"footer",children:["\xa9",(new Date).getFullYear()," ",Object(j.jsx)("a",{href:"https://www.facebook.com/anna.chotoborska",target:"_blank",rel:"noreferrer",children:"Reien"}),". Grafiki: Reien, ",Object(j.jsx)("a",{href:"https://www.flickr.com/photos/biodivlibrary/",target:"_blank",rel:"noreferrer",children:"BHL"})]})]})},W=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,153)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),i(e),a(e)}))};s.a.render(Object(j.jsx)(i.a.StrictMode,{children:Object(j.jsx)(H,{})}),document.getElementById("root")),W()},49:function(e,t){},50:function(e,t){},74:function(e,t){},80:function(e,t){},93:function(e,t,n){},94:function(e,t,n){}},[[151,1,2]]]);
//# sourceMappingURL=main.8c2a769d.chunk.js.map